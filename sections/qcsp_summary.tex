\documentclass[../main.tex]{subfiles}

\makeatletter
\@ifundefined{fromRoot}{%
  \newcommand{\fromRoot}[1]{../#1}
  
  \usepackage{xr}
  \externaldocument{../main}
}{}

\def\input@path{{\subfix{../}}}
%or: \def\input@path{{/path/to/folder/}{/path/to/other/folder/}}
\makeatother

\graphicspath{
  {\subfix{../}}
  {\subfix{./figures}}
  {\subfix{../figures}}
  {\subfix{./figures/logos-thesis/}}
  {\subfix{../figures/logos-thesis/}}
  {\subfix{./figures/rtexps-pics/}}
  {\subfix{../figures/rtexps-pics/}}
}


\hypersetup{
    pdfauthor   = {Camille MONIÈRE},
    pdftitle    = {Th\`{e}se (Présentation: QCSP, un résumé)},
    pdfsubject  = {Th\`{e}se (Présentation: QCSP, un résumé)},
%    pdfkeywords = {mots-cl\'{e}s},
}

\begin{document}

\section[Système de communications QCSP]{Système de communications \acrshort{qcsp}}


\subsection{Modèle}

\begin{frame}{\secname : \subsecname}
  \begin{overlayarea}{\linewidth}{0.25\textheight}
    \resizebox{\linewidth}{!}{
      \input{figures/tikzinput/evolutive_chain.tex}
    }
  \end{overlayarea}

  \vspace{1 em}
  \begin{columns}
    \begin{column}{.3\linewidth}
      \begin{overlayarea}{\linewidth}{0.6\textheight}
        \only<1->{\hfill Message $\vect{M}$\\} \vspace{.25em}
        \only<1->{\hfill Mot de code $\vect{C}$\\} \vspace{.25em}
        \only<2->{\hfill Trame CCSK $\vect{F}_{\mathrm{CCSK}}$\\} \vspace{.25em}
        \only<3->{\hfill Trame QPSK $\vect{F}$\\} \vspace{.25em}
        \only<4->{\hfill Flux d'échantillons $y(n)$\\} \vspace{.25em}
        \only<6->{\hfill Trame détecté $\vect{F}_{D}$\\} \vspace{.25em}
        \only<7->{\hfill Trame synchronisation $\vect{F}_{S}$\\} \vspace{.25em}
        \only<8->{\hfill Message décodé $\vect{M}'$}
      \end{overlayarea}
    \end{column}
    \begin{column}{.7\linewidth}
      \begin{overlayarea}{\linewidth}{0.6\textheight} \centering
        \only<1->{$\{1, \: 2, \: 1\}$\\} \vspace{.25em}
        \only<1->{$\{1, \: 2, \: 1, \: 3, \: 2, \: 3\}$\\} \vspace{.25em}
        \only<2->{\includegraphics[width=\linewidth, height=.73em, keepaspectratio = true]{figures/tikzpicture/trame_ccsk.pdf}\\} \vspace{.25em}
        \only<3->{\includegraphics[width=\linewidth, height=.73em, keepaspectratio = true]{figures/tikzpicture/trame_qcsp.pdf}\\} \vspace{.25em}
        \only<4->{\includegraphics[width=\linewidth, height=.73em, keepaspectratio = false]{figures/rtexps-pics/noise.png}\\} \vspace{.25em}
        \only<6->{\includegraphics[width=\linewidth, height=1.05em, keepaspectratio = true]{figures/tikzpicture/trame_detectee.pdf}\\} \vspace{.25em}
        \only<7->{\includegraphics[width=\linewidth, height=1.05em, keepaspectratio = true]{figures/tikzpicture/trame_synchro.pdf}\\} \vspace{.25em}
        \only<8->{$\{1, \: 2, \: 1\}$}
      \end{overlayarea}
    \end{column}
  \end{columns}
\end{frame}

\subsection{Émission : fonctionnellement simple}

\begin{frame}{\subsecname}
  \begin{columns}
    \begin{column}{.35\linewidth}
      \begin{overlayarea}{\linewidth}{.5\textheight}
        \centering
        \includegraphics[width=\linewidth, height=.5\textheight, keepaspectratio = true]{figures/tikzpicture/ccsk_simd_stdl.pdf}
        \captionof{figure}{Modulation CCSK, en image.}
      \end{overlayarea}
    \end{column}
    \begin{column}{.35\linewidth}
      \begin{overlayarea}{\linewidth}{.5\textheight}
        \centering
        \includegraphics[width=\linewidth, height=.55\textheight, keepaspectratio = true]{figures/tikzpicture/ovmod_simd_stdl.pdf}
        \captionof{figure}{Surmodulation, en image.}
      \end{overlayarea}
    \end{column}
  \end{columns}

  \vspace{4 em}

  \begin{center}
    Le NB-LDPC et le filtre sont des fonctions très étudiées dans la littérature.
  \end{center}
\end{frame}

\subsection{Détection}

\begin{frame}{\subsecname : {Principe}}
  \begin{columns}
    \begin{column}{.4\linewidth}

    \end{column}
    \begin{column}{.6\linewidth}
      \includegraphics[width=\linewidth, height=.75\textheight, keepaspectratio=true]{figures/pgfplots/score_function_uniq_stdl.pdf}
    \end{column}
  \end{columns}
\end{frame}

% \begin{frame}{\subsecname : {animation CCSK demod}}
%   \begin{center}
%     \textcolor{RoyalBlue}{TODO}
%   \end{center}
% \end{frame}

\begin{frame}{\subsecname : {Problèmes Temps Fréquence}}
  \begin{columns}
    \begin{column}{.4\linewidth}

    \end{column}
    \begin{column}{.6\linewidth}
      \includegraphics[width=\linewidth, height=.75\textheight, keepaspectratio=true]{figures/pgfplots/score_function_stdl.pdf}
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}{\subsecname : {La grille temps fréquences}}
  \begin{columns}
    \begin{column}{.4\linewidth}

    \end{column}
    \begin{column}{.6\linewidth}
      \centering
      \includegraphics[width=\linewidth, height=.75\textheight, keepaspectratio=true]{figures/pgfplots/score_grid.pdf}
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}{\subsecname : {Modèle fonctionnel}}
  \begin{center}
    \includegraphics[width=.9\linewidth, height=.75\textheight, keepaspectratio=true]{figures/tikzpicture/funct_view_detection_stdl.pdf}
  \end{center}
\end{frame}

\begin{frame}{\subsecname : {Effets des paramètres $p_\Delta$ et $p_\omega$}}{Données réelles avec $q = 64$ et $N = 60$}
  \begin{overlayarea}{\linewidth}{.15\textheight} \vspace {-1.2cm}
    \hfill \includegraphics[width=6.5cm, height=.75\textheight, keepaspectratio=true]{figures/tikzpicture/funct_view_detection_stdl.pdf}
  \end{overlayarea}
  \begin{columns}
    \begin{column}{.65\linewidth}
      \begin{overlayarea}{\linewidth}{.75\textheight} \vspace {-.5cm}
        \includegraphics[width=\linewidth]{pgfplots/roc_curves_stdl.pdf}
      \end{overlayarea}
    \end{column}
    \begin{column}{.35\linewidth}
    \end{column}
  \end{columns}
\end{frame}

\subsection{Synchronisation et décodage}

\begin{frame}{\subsecname}
  \begin{center}
    \textcolor{RoyalBlue}{TODO --- En fonction du temps, détails ou pas}
  \end{center}
\end{frame}

% \subsection{Décodage}

% \begin{frame}{\subsecname}
%   \begin{center}
%     \textcolor{RoyalBlue}{TODO --- Merci CCSK et hop}
%   \end{center}
% \end{frame}

\end{document}
